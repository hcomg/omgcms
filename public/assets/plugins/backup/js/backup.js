$(document).ready(function(){var e=$("#table-backups");e.on("click",".deleteDialog",function(e){e.preventDefault(),$("#delete-crud-entry").data("section",$(this).data("section")),$("#delete-crud-modal").modal("show")}),e.on("click",".restoreBackup",function(e){e.preventDefault(),$("#restore-backup-button").data("section",$(this).data("section")),$("#restore-backup-modal").modal("show")}),$("#delete-crud-entry").on("click",function(t){t.preventDefault(),$("#delete-crud-modal").modal("hide");var o=$(this).data("section");$.ajax({url:o,type:"GET",success:function(t){t.error?Botble.showNotice("error",t.message,Botble.languages.notices_msg.error):(e.find('a[data-section="'+o+'"]').closest("tr").remove(),Botble.showNotice("success",t.message,Botble.languages.notices_msg.success))},error:function(e){Botble.handleError(e)}})}),$("#restore-backup-button").on("click",function(e){e.preventDefault();var t=$(this);t.html('<i class="fa fa-spin fa-spinner" aria-hidden="true"></i> '+t.text()),$.ajax({url:t.data("section"),type:"GET",success:function(e){t.find("i").remove(),t.closest(".modal").modal("hide"),e.error?Botble.showNotice("error",e.message,Botble.languages.notices_msg.error):Botble.showNotice("success",e.message,Botble.languages.notices_msg.success)},error:function(e){t.find("i").remove(),Botble.handleError(e)}})}),$(document).on("click","#generate_backup",function(e){e.preventDefault(),$("#name").val(""),$("#description").val(""),$("#create-backup-modal").modal("show")}),$("#create-backup-modal").on("click","#create-backup-button",function(t){t.preventDefault();var o=$(this);o.html('<i class="fa fa-spin fa-spinner" aria-hidden="true"></i> '+o.text());var a=$("#name").val(),r=$("#description").val(),s=!1;""!=a&&null!=a||(s=!0,Botble.showNotice("error","Backup name is required!",Botble.languages.notices_msg.error)),""!=r&&null!=r||(s=!0,Botble.showNotice("error","Backup description is required!",Botble.languages.notices_msg.error)),s?o.find("i").remove():$.ajax({url:$("div[data-route-create]").data("route-create"),type:"POST",data:{name:a,description:r},success:function(t){o.find("i").remove(),o.closest(".modal").modal("hide"),t.error?Botble.showNotice("error",t.message,Botble.languages.notices_msg.error):(e.find("tbody").append(t.data),Botble.showNotice("success",t.message,Botble.languages.notices_msg.success))},error:function(e){o.find("i").remove(),Botble.handleError(e)}})})});