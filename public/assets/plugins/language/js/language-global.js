$(document).ready(function(){var a=$("#post_lang_choice");a.data("prev",a.val()),a.on("change",function(){$(".change_to_language_text").text($(this).find("option:selected").text()),$("#confirm-change-language-modal").modal("show")}),$("#confirm-change-language-modal .btn-primary").on("click",function(e){e.preventDefault(),a.val(a.data("prev")).trigger("change"),$("#confirm-change-language-modal").modal("hide")}),$("#confirm-change-language-button").on("click",function(e){e.preventDefault();var t=a,n=$("#language_flag_path").val();$.ajax({url:$("div[data-change-language-route]").data("change-language-route"),data:{current_language:t.val(),content_id:$("#content_id").val(),reference:$("#reference").val(),created_from:$("#created_from").val()},type:"POST",success:function(e){if($(".active-language").html('<img src="'+n+t.find("option:selected").data("flag")+'.png" title="'+t.find("option:selected").text()+'" alt="'+t.find("option:selected").text()+'" />'),!e.error){$(".current_language_text").text(t.find("option:selected").text());var o="";$.each(e.data,function(a,e){o+='<img src="'+n+e.flag+'.png" title="'+e.name+'" alt="'+e.name+'">',o+=e.content_id?'<a href="'+$("#route_edit").val()+'"> '+e.name+' <i class="fa fa-edit"></i> </a><br />':'<a href="'+$("#route_create").val()+"?from="+$("#content_id").val()+"&lang="+a+'"> '+e.name+' <i class="fa fa-plus"></i> </a><br />'}),$("#list-others-language").html(o),$("#confirm-change-language-modal").modal("hide"),a.data("prev",a.val())}},error:function(a){Botble.showNotice("error",a.message,Botble.languages.notices_msg.error)}})})});var BBLanguage={init:function(){$(document).on("click",".change-data-language-item",function(a){a.preventDefault(),window.location.href=$(this).find("a span").data("href")})}};$(document).ready(function(){BBLanguage.init()});