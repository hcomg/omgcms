"use strict";tinymce.PluginManager.requireLangPack("bootstrap"),tinymce.PluginManager.add("bootstrap",function(e,t){function a(e){return e.is('[class*="'+B.searchClass+'"]')?!0:!1}function n(n,i,c,p){var d=s("showDialog"),u="";jQuery(d).hasClass("active")&&(jQuery(d).hasClass("btn")?u=l(d,"bsBtn"):a(jQuery(d))?u=l(d,"bsIcon"):jQuery(d).is("img")?u=l(d,"bsImage"):jQuery(d).hasClass("table")?u=l(d,"bsTable"):jQuery(d).hasClass("breadcrumb")?u=l(d,"bsBreadcrumb"):jQuery(d).hasClass("pagination")?u=l(d,"bsPagination"):jQuery(d).hasClass("pager")?u=l(d,"bsPager"):jQuery(d).hasClass("label")?u=l(d,"bsLabel"):jQuery(d).hasClass("badge")?u=l(d,"bsBadge"):jQuery(d).hasClass("alert")?u=l(d,"bsAlert"):jQuery(d).hasClass("panel")&&(u=l(d,"bsPanel")));var m=function(){var a="",o=e.getParam("language");o||(o="en_EN"),a+='<input type="hidden" name="bs-code" id="bs-code" />';var s="?";return n.match(/\?/)&&(s="&"),a+='<iframe src="'+t+"/"+n+s+"language="+o+"&images_path="+Q+"&bootstrap_css_path="+C+"&iconFont="+B.font+"&"+u+"&"+(new Date).getTime()+'"></iframe>'},b=w;jQuery(window).width()<885&&(b=.9*jQuery(window).width()),jQuery(window).height()>c&&(c=.9*jQuery(window).height()-90);e.windowManager.open({title:i,width:b,height:c,html:m(),buttons:[{text:"OK",subtype:"primary",onclick:function(e){r(e,p),this.parent().parent().close()}},{text:"Cancel",onclick:function(){this.parent().parent().close()}}]});jQuery(".mce-floatpanel").find(".mce-widget.mce-abs-layout-item.mce-first").css({left:"auto",right:"82px"}),jQuery(".mce-floatpanel").find(".mce-widget.mce-last.mce-abs-layout-item").css({left:"auto",right:"10px"}),jQuery(window).on("resize",function(){o()})}function o(){var e=w;e=jQuery(window).width()>w?w:.9*jQuery(window).width(),jQuery(".mce-floatpanel").width(e).css("left",(jQuery(window).width()-e)/2),jQuery(".mce-floatpanel").find(".mce-container-body, .mce-foot, .mce-abs-layout").width(e),768>e?jQuery(".mce-edit-area iframe").contents().find(".container").addClass("container-xs"):jQuery(".mce-edit-area iframe").contents().find(".container").removeClass("container-xs")}function s(t){var a=e.selection.getNode();if(!jQuery(a).hasClass("active")||jQuery(a).closest(".table").length>0||jQuery(a).closest("ol.breadcrumb").length>0||jQuery(a).closest("ul.pagination").length>0||jQuery(a).closest("ul.pager").length>0||jQuery(a).closest("div.alert").length>0)for(var n=[".table",".breadcrumb",".pagination",".pager",".alert",".panel"],o=!1,s=0;s<n.length;s++)jQuery(a).closest(n[s]).length>0&&o===!1&&(a=jQuery(a).closest(n[s]),o=!0);return a}function r(t,a){var n=c(document.getElementById("bs-code").value),o=s("renderContent");if(jQuery(o).hasClass("active")||jQuery(o).siblings().hasClass("active")){jQuery(o).after(n);var r={bsBtn:"btn",bsIcon:B.searchClass,bsImage:"img",bsTable:"table",bsBreadcrumb:"breadcrumb",bsPagination:"pagination",bsPager:"pager",bsLabel:"label",bsBadge:"badge",bsAlert:"alert",bsPanel:"panel"};for(var i in r){var l=r[i];a==i&&("bsImage"==a&&jQuery(o).is("img")?e.dom.remove(o):(jQuery(o).hasClass(l)||jQuery(o).is('[class*="'+l+'"]'))&&e.dom.remove(o))}}else e.insertContent(n);e.dom.remove(e.dom.select('li > br[data-mce-bogus="1"]'))}function i(e){var t="",a=jQuery(e).attr("class").split(" "),n=new RegExp(B.searchClass,"g");return jQuery.each(a,function(e,a){a.match(n)&&(t=a)}),t}function l(e,t){var a="";if("bsBtn"==t){var n,o=jQuery(e)[0].outerHTML.replace(" active",""),s="";jQuery(e).find("span")[0]&&(s=i(jQuery(e).find("span").get(0)));var r=B.font,l=new Array("default","btn-primary","btn-success","btn-info","btn-warning","btn-danger"),c="";for(n=l.length-1;n>=0;n--)jQuery(e).hasClass(l[n])&&(c=l[n]);var p=new Array("btn-xs","btn-sm","btn-lg"),d="";for(n=p.length-1;n>=0;n--)jQuery(e).hasClass(p[n])&&(d=p[n]);var u=jQuery(e).prop("tagName").toLowerCase(),m="";"a"==u&&(m=jQuery(e).attr("href"));var b="";("button"==u||"input"==u)&&(b=jQuery(e).attr("type"));var g;g="button"==u||"a"==u?jQuery(e).remove("i").text():jQuery(e).val();var f="prepend";if(jQuery(e).find("span")[0]){var y=new RegExp("/^"+g+"/");y.test(jQuery(e).html())===!0&&(f="append")}o=encodeURIComponent(o),s=encodeURIComponent(s),c=encodeURIComponent(c),d=encodeURIComponent(d),u=encodeURIComponent(u),m=encodeURIComponent(m),b=encodeURIComponent(b),g=encodeURIComponent(g),r=encodeURIComponent(r),f=encodeURIComponent(f),a="btnCode="+o+"&btnIcon="+s+"&btnStyle="+c+"&btnSize="+d+"&btnTag="+u+"&btnHref="+m+"&btnType="+b+"&btnText="+g+"&iconFont="+r+"&iconPos="+f}else if("bsImage"==t){var h=jQuery(e).attr("src"),v="",C="",j="",Q="",w="false";jQuery(e).hasClass("img-rounded")?Q="img-rounded":jQuery(e).hasClass("img-circle")?Q="img-circle":jQuery(e).hasClass("img-thumbnail")&&(Q="img-thumbnail"),jQuery(e).hasClass("img-responsive")&&(w="true"),jQuery(e).attr("alt")&&(v=jQuery(e).attr("alt")),jQuery(e).attr("width")&&(C=jQuery(e).attr("width")),jQuery(e).attr("height")&&(j=jQuery(e).attr("height")),h=encodeURIComponent(h),v=encodeURIComponent(v),C=encodeURIComponent(C),j=encodeURIComponent(j),Q=encodeURIComponent(Q),a="imgSrc="+h+"&imgAlt="+v+"&imgWidth="+C+"&imgHeight="+j+"&imgStyle="+Q+"&imgResponsive="+w}else if("bsIcon"==t){var k=i(e),I=jQuery(e).css("font-size"),x=jQuery(e).css("color");k=encodeURIComponent(k),I=encodeURIComponent(I),x=encodeURIComponent(x),a="icon="+k+"&iconSize="+I+"&iconColor="+x}else if("bsTable"==t){e=jQuery(e).closest(".table");var P="false",_="false",E="false",R="false",T="false";jQuery(e).hasClass("table-striped")&&(P="true"),jQuery(e).hasClass("table-bordered")&&(_="true"),jQuery(e).hasClass("table-hover")&&(E="true"),jQuery(e).hasClass("table-condensed")&&(R="true"),jQuery(e).hasClass("table-responsive")&&(T="true"),a="tableStriped="+P+"&tableBordered="+_+"&tableHover="+E+"&tableCondensed="+R+"&tableResponsive="+T}else("bsBreadcrumb"==t||"bsPagination"==t||"bsPager"==t||"bsLabel"==t||"bsBadge"==t||"bsAlert"==t|"bsPanel"==t)&&(a="edit=true");return a.replace(/(\r\n|\n|\r)/gm,"")}function c(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}function p(){e.hasVisual?e.dom.addClass(e.dom.select(".mce-content-body "),"hasVisual"):e.dom.removeClass(e.dom.select(".mce-content-body "),"hasVisual")}function d(){p(),e.on("ExecCommand",function(e){"mceToggleVisualAid"==e.command,p()}),p(),e.on("click keyup",function(e){var t="",n="";jQuery(e.target).is("img")?(t="img",n="insertImageBtn"):jQuery(e.target).attr("class")?jQuery(e.target).attr("class").match(/btn/)?(t=".btn",n="insertBtnBtn"):a(jQuery(e.target))?(t="icon",n="insertIconBtn"):jQuery(e.target).attr("class").match(/label/)?(t=".label",n="insertLabelBtn"):jQuery(e.target).attr("class").match(/badge/)?(t=".badge",n="insertBadgeBtn"):jQuery(e.target).attr("class").match(/alert/)&&(t=".alert",n="insertAlertBtn"):jQuery(e.target).closest(".table").attr("class")?(t=".table",n="insertTableBtn"):jQuery(e.target).closest(".breadcrumb").attr("class")?(t=".breadcrumb",n="insertBreadcrumbBtn"):jQuery(e.target).closest(".pagination").attr("class")?(t=".pagination",n="insertPaginationBtn"):jQuery(e.target).closest(".pager").attr("class")?(t=".pager",n="insertPagerBtn"):jQuery(e.target).closest(".alert").attr("class")?(t=".alert",n="insertAlertBtn"):jQuery(e.target).closest(".panel").attr("class")&&(t=".panel",n="insertPanelBtn"),m(),""!==t&&u(e.target,t,n)}),m()}function u(t,a,n){"icon"==a?e.selection.setCursorLocation(t):".btn"==a&&jQuery(t).is("input")!==!0&&e.selection.setCursorLocation(t,!0),".table"==a?(jQuery(t).closest(".table").addClass("active"),b(n,"on")):".breadcrumb"==a?(jQuery(t).closest(".breadcrumb").addClass("active"),b(n,"on")):".pagination"==a?(jQuery(t).closest(".pagination").addClass("active"),b(n,"on")):".pager"==a?(jQuery(t).closest(".pager").addClass("active"),b(n,"on")):".alert"==a?(jQuery(t).closest(".alert").addClass("active"),b(n,"on")):".panel"==a?(jQuery(t).closest(".panel").addClass("active"),b(n,"on")):(jQuery(t).addClass("active"),b(n,"on"))}function m(){for(var t=new Array(".btn",'[class*="'+B.searchClass+'"]',"img",".table",".breadcrumb",".pagination",".pager",".label",".badge",".alert",".panel"),a=0;a<t.length;a++)jQuery(e.dom.select(t[a])).removeClass("active");var n;n="buttongroup"==y?e.buttons.bootstrap.items:e.buttons.bootstrap.menu;for(var o=n.length-1;o>=0;o--)n[o].active(!1)}function b(t,a){var n;n="buttongroup"==y?e.buttons.bootstrap.items:e.buttons.bootstrap.menu;for(var o=n.length-1;o>=0;o--)("allBtns"==t||n[o]._name==t)&&"on"==a&&n[o].active(!0)}function g(){var e="@[accesskey|draggable|style|class|hidden|tabindex|contenteditable|id|title|contextmenu|lang|dir<ltr?rtl|spellcheck|onabort|onerror|onmousewheel|onblur|onfocus|onpause|oncanplay|onformchange|onplay|oncanplaythrough|onforminput|onplaying|onchange|oninput|onprogress|onclick|oninvalid|onratechange|oncontextmenu|onkeydown|onreadystatechange|ondblclick|onkeypress|onscroll|ondrag|onkeyup|onseeked|ondragend|onload|onseeking|ondragenter|onloadeddata|onselect|ondragleave|onloadedmetadata|onshow|ondragover|onloadstart|onstalled|ondragstart|onmousedown|onsubmit|ondrop|onmousemove|onsuspend|ondurationmouseout|ontimeupdate|onemptied|onmouseover|onvolumechange|onended|onmouseup|onwaiting],a[target<_blank?_self?_top?_parent|ping|media|href|hreflang|type|rel<alternate?archives?author?bookmark?external?feed?first?help?index?last?license?next?nofollow?noreferrer?prev?search?sidebar?tag?up],abbr,address,area[alt|coords|shape|href|target<_blank?_self?_top?_parent|ping|media|hreflang|type|shape<circle?default?poly?rect|rel<alternate?archives?author?bookmark?external?feed?first?help?index?last?license?next?nofollow?noreferrer?prev?search?sidebar?tag?up],article,aside,audio[src|preload<none?metadata?auto|autoplay<autoplay|loop<loop|controls<controls|mediagroup],blockquote[cite],body,br,button[autofocus<autofocus|disabled<disabled|form|formaction|formenctype|formmethod<get?put?post?delete|formnovalidate?novalidate|formtarget<_blank?_self?_top?_parent|name|type<reset?submit?button|value],canvas[width,height],caption,cite,code,col[span],colgroup[span],command[type<command?checkbox?radio|label|icon|disabled<disabled|checked<checked|radiogroup|default<default],datalist[data],dd,del[cite|datetime],details[open<open],dfn,div,dl,dt,em/i,embed[src|type|width|height],eventsource[src],fieldset[disabled<disabled|form|name],figcaption,figure,footer,form[accept-charset|action|enctype|method<get?post?put?delete|name|novalidate<novalidate|target<_blank?_self?_top?_parent],h1,h2,h3,h4,h5,h6,header,hgroup,hr,iframe[name|src|srcdoc|seamless<seamless|width|height|sandbox],img[alt=|src|ismap|usemap|width|height],input[accept|alt|autocomplete<on?off|autofocus<autofocus|checked<checked|disabled<disabled|form|formaction|formenctype|formmethod<get?put?post?delete|formnovalidate?novalidate|formtarget<_blank?_self?_top?_parent|height|list|max|maxlength|min|multiple<multiple|name|pattern|placeholder|readonly<readonly|required<required|size|src|step|type<hidden?text?search?tel?url?email?password?datetime?date?month?week?time?datetime-local?number?range?color?checkbox?radio?file?submit?image?reset?button|value|width],ins[cite|datetime],kbd,keygen[autofocus<autofocus|challenge|disabled<disabled|form|name],label[for|form],legend,li[value],mark,map[name],menu[type<context?toolbar?list|label],meter[value|min|low|high|max|optimum],nav,noscript,object[data|type|name|usemap|form|width|height],ol[reversed|start],optgroup[disabled<disabled|label],option[disabled<disabled|label|selected<selected|value],output[for|form|name],p,param[name,value],-pre,progress[value,max],q[cite],ruby,rp,rt,samp,script[src|async<async|defer<defer|type|charset],section,select[autofocus<autofocus|disabled<disabled|form|multiple<multiple|name|size],small,source[src|type|media],span,-strong/b,-sub,summary,-sup,table,tbody,td[colspan|rowspan|headers],textarea[autofocus<autofocus|disabled<disabled|form|maxlength|name|placeholder|readonly<readonly|required<required|rows|cols|wrap<soft|hard],tfoot,th[colspan|rowspan|headers|scope],thead,time[datetime],tr,ul,var,video[preload<none?metadata?auto|src|crossorigin|poster|autoplay<autoplay|mediagroup|loop<loop|muted<muted|controls<controls|width|height],wbr";return e}var f,y,h,v,C,j,Q,w=885,B=[];"undefined"==typeof e.settings.bootstrapConfig&&(e.settings.bootstrapConfig=[]),"undefined"==typeof e.settings.bootstrapConfig.bootstrapElements&&(e.settings.bootstrapConfig.bootstrapElements={btn:!0,icon:!0,image:!0,table:!0,template:!0,breadcrumb:!0,pagination:!0,pager:!0,label:!0,badge:!0,alert:!0,panel:!0,snippet:!0}),f=e.settings.bootstrapConfig.bootstrapElements,e.settings.verify_html===!1&&"*[*]"===e.settings.valid_elements||e.settings.bootstrapConfig.overwriteValidElements===!1||(e.settings.valid_elements=g()),"undefined"==typeof e.settings.bootstrapConfig.type&&(e.settings.bootstrapConfig.type="buttongroup"),y=e.settings.bootstrapConfig.type,"undefined"==typeof e.settings.bootstrapConfig.dropdownText&&(e.settings.bootstrapConfig.dropdownText="Elements"),h=e.settings.bootstrapConfig.dropdownText,"undefined"==typeof e.settings.bootstrapConfig.bootstrapCssPath&&(v=t+"/css/bootstrap.min.css",e.settings.bootstrapConfig.bootstrapCssPath=v),C=e.settings.bootstrapConfig.bootstrapCssPath,"undefined"==typeof e.settings.bootstrapConfig.bootstrapIconFont&&(B.defaultFont="glyphicon",e.settings.bootstrapConfig.bootstrapIconFont=B.defaultFont),B.font=e.settings.bootstrapConfig.bootstrapIconFont,"glyphicon"==B.font?B.searchClass="glyphicon-":"ionicon"==B.font?B.searchClass="ion-":"fontawesome"==B.font?B.searchClass="fa-":"weathericon"==B.font?B.searchClass="wi-":"mapicon"==B.font?B.searchClass="map-icon-":"octicon"==B.font?B.searchClass="octicon-":"typicon"==B.font?B.searchClass="typcn-":"elusiveicon"==B.font?B.searchClass="el-icon-":"materialdesign"==B.font&&(B.searchClass="md-"),"undefined"==typeof e.settings.bootstrapConfig.imagesPath&&(j=t+"/",e.settings.bootstrapConfig.imagesPath={imagesPath:j}),Q=e.settings.bootstrapConfig.imagesPath,"undefined"==typeof(e.settings.bootstrapConfig.bootstrapElements.snippet===!0&&e.settings.bootstrapConfig.allowSnippetManagement)&&(e.settings.bootstrapConfig.allowSnippetManagement=!0);var k,I=e.settings.content_css;I="undefined"==typeof I?C+","+t+"/css/editor-content.min.css":C+","+I+","+t+"/css/editor-content.min.css","glyphicon"==B.font?k="":"ionicon"==B.font?k="ionicons.min.css":"fontawesome"==B.font?k="font-awesome.min.css":"weathericon"==B.font?k="weather-icons.min.css":"mapicon"==B.font?k="map-icons.min.css":"octicon"==B.font?k="octicons.min.css":"typicon"==B.font?k="typicons.min.css":"elusiveicon"==B.font?k="elusive-icons.min.css":"materialdesign"==B.font&&(k="material-design-iconic-font.min.css"),""!==k&&(I+=","+t+"/css/iconpicker/css/"+k),e.settings.content_css=I,e.on("init",function(){var a=t+"/css/editor.min.css";if(document.createStyleSheet)document.createStyleSheet(a);else{var n=e.dom.create("link",{rel:"stylesheet",href:a});document.getElementsByTagName("head")[0].appendChild(n)}var o=e.settings.bootstrapConfig.tinymceBackgroundColor;""!==o&&e.dom.addStyle(".mce-content-body {background-color: "+o+" !important}"),d()});var x=[],P="button",_="widget btn bs-icon-btn",E={},R=[],T=[];if(E.button="Button",E.image="Image",E.icon="Icon",E.table="Table",E.template="Template",E.breadcrumb="Breadcrumb",E.pagination="Pagination",E.pager="Pager",E.label="Label",E.badge="Badge",E.alert="Alert",E.panel="Panel",E.snippet="Snippet",jQuery.each(E,function(e,t){R[e]=t,T[e]="Insert/Edit "+t}),"buttongroup"==y?jQuery.each(E,function(e,t){R[e]=""}):(P="menuitem",_="bs-list-icon-btn"),"buttongroup"==y){var F=tinymce.ui.Factory.create({type:P,text:"",classes:_,icon:"bootstrap-icon",tooltip:"Bootstrap Elements"});x.push(F)}if(f.btn){var S=tinymce.ui.Factory.create({type:P,classes:_,text:R.button,icon:"icon-btn",name:"insertBtnBtn",tooltip:T.button,onclick:function(){n("bootstrap-btn.php","Insert/Edit Bootstrap Button",580,"bsBtn")}});x.push(S)}if(f.image){var U=tinymce.ui.Factory.create({type:P,classes:_,text:R.image,icon:"icon-image",name:"insertImageBtn",tooltip:T.image,onclick:function(){n("bootstrap-image.php","Insert/Edit Bootstrap Image",580,"bsImage")}});x.push(U)}if(f.icon){var L=tinymce.ui.Factory.create({type:P,classes:_,text:R.icon,icon:"icon-icon",name:"insertIconBtn",tooltip:T.icon,onclick:function(){n("bootstrap-icon.php","Insert/Edit Bootstrap Icon",450,"bsIcon")}});x.push(L)}if(f.table){var A=tinymce.ui.Factory.create({type:P,classes:_,text:R.table,icon:"icon-table",name:"insertTableBtn",tooltip:T.table,onclick:function(){n("bootstrap-table.php","Insert/Edit Bootstrap Table",620,"bsTable")}});x.push(A)}if(f.template){var M=tinymce.ui.Factory.create({type:P,classes:_,text:R.template,icon:"icon-template",name:"insertTemplateBtn",tooltip:T.template,onclick:function(){n("bootstrap-template.php","Insert Bootstrap Template",580,"bsTemplate")}});x.push(M)}if(f.breadcrumb){var q=tinymce.ui.Factory.create({type:P,classes:_,text:R.breadcrumb,icon:"icon-breadcrumb",name:"insertBreadcrumbBtn",tooltip:T.breadcrumb,onclick:function(){n("bootstrap-breadcrumb.php","Insert/Edit Bootstrap Breadcrumb",580,"bsBreadcrumb")}});x.push(q)}if(f.pagination){var N=tinymce.ui.Factory.create({type:P,classes:_,text:R.pagination,icon:"icon-pagination",name:"insertPaginationBtn",tooltip:T.pagination,onclick:function(){n("bootstrap-pagination.php","Insert/Edit Bootstrap Pagination",650,"bsPagination")}});x.push(N)}if(f.pager){var z=tinymce.ui.Factory.create({type:P,classes:_,text:R.pager,icon:"icon-pager",name:"insertPagerBtn",tooltip:T.pager,onclick:function(){n("bootstrap-pager.php","Insert/Edit Bootstrap Pager",450,"bsPager")}});x.push(z)}if(f.label){var V=tinymce.ui.Factory.create({type:P,classes:_,text:R.label,icon:"icon-label",name:"insertLabelBtn",tooltip:T.label,onclick:function(){n("bootstrap-label.php","Insert/Edit Bootstrap Label",350,"bsLabel")}});x.push(V)}if(f.badge){var H=tinymce.ui.Factory.create({type:P,classes:_,text:R.badge,icon:"icon-badge",name:"insertBadgeBtn",tooltip:T.badge,onclick:function(){n("bootstrap-badge.php","Insert/Edit Bootstrap Badge",350,"bsBadge")}});x.push(H)}if(f.alert){var D=tinymce.ui.Factory.create({type:P,classes:_,text:R.alert,icon:"icon-alert",name:"insertAlertBtn",tooltip:T.alert,onclick:function(){n("bootstrap-alert.php","Insert/Edit Bootstrap Alert",580,"bsAlert")}});x.push(D)}if(f.panel){var K=tinymce.ui.Factory.create({type:P,classes:_,text:R.panel,icon:"icon-panel",name:"insertPanelBtn",tooltip:T.panel,onclick:function(){n("bootstrap-panel.php","Insert/Edit Bootstrap Panel",650,"bsPanel")}});x.push(K)}if(f.snippet){var O=tinymce.ui.Factory.create({type:P,classes:_,text:R.snippet,icon:"icon-snippet",name:"insertSnippetBtn",tooltip:T.snippet,onclick:function(){n("bootstrap-snippet.php?allowEdit="+e.settings.bootstrapConfig.allowSnippetManagement,"Insert Snippet",650,"bsSnippet")}});x.push(O)}"buttongroup"==y?e.addButton("bootstrap",{type:"buttongroup",classes:"bs-btn",items:x}):e.addButton("bootstrap",{type:"menubutton",text:h,icon:!1,menu:x}),e.on("keydown",function(t){var a,n,o,s=new Array("table","div.row","ol.breadcrumb","ul.pagination","ul.pager","span.badge",".alert",".panel","ul.nav-tabs","div.carousel","nav.navbar","ul.nav-pills","div.panel-group","div.jumbotron"),r=!1,i=tinymce.dom.DomQuery;if(!(13!=t.keyCode&&10!=t.keyCode||t.altKey!==!0&&t.ctrlKey!==!0)){t.preventDefault(),t.stopPropagation();var l=e.dom.getParents(e.selection.getNode());if(l.length>0)if(a=l[0],t.altKey===!0){n=i("<p>&nbsp;</p>");for(var c=0;c<s.length;c++)o=s[c],i(a).closest(o)[0]&&i(l).each(function(){i(this).is(o)&&(i(this).after(n),r=!0)});r===!1&&i(a).after(n),e.selection.setCursorLocation(n[0],0)}else{e.execCommand("mceInsertContent",!1,"<br /> ");var p=e.selection.getRng().startContainer,d=e.selection.getBookmark(p.textContent).rng.startOffset;e.selection.setCursorLocation(p,d-1)}return!1}})});